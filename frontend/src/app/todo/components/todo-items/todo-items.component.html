<app-navigation/>

<main class="mt-[80px] h-[calc(100vh-80px)] px-2">
    <form action="" [formGroup]="formGroup" class="max-w-[1200px] mx-auto mt-4 py-16 px-8 bg-white  rounded-2xl ">
        <div class="relative px-8">

            <div class="absolute left-2 top-1/2 -translate-y-1/2 cursor-pointer " (click)="handleToggleCompleted()">
                <span class="block w-[15px] h-[15px] hover:brightness-50 duration-200" [ngClass]="{
                    'bg-black/90 ' : isCompleted,
                    'bg-gray-500/90' : !isCompleted
                }" ></span>
            </div>

            <input class="w-full  px-4 py-8 text-3xl" [ngClass]="{'line-through': isCompleted}" type="text" placeholder="TODO Title" [formControl]="formGroup.controls.title">
        </div>

        <div class="my-4">
            <div class="flex items-center gap-2">
                <label class="text-xl">Priority</label>

                <button [cdkMenuTriggerFor]="menu" class="px-4 py-2 rounded-sm" [appProprity]="formGroup.value.priority || 'NORMLA'">
                    {{formGroup.value.priority}}
                </button>

                <ng-template #menu>
                    <div class="flex flex-col py-4 px-2 bg-natural-one shadow-2xl rounded-sm " cdkMenu>
                      <button class="px-4 py-2 rounded-sm" appProprity="NORMAL" (click)="setPriority('NORMAL')" cdkMenuItem>NORMAL</button>
                      <button class="px-4 py-2 rounded-sm" appProprity="LOW" (click)="setPriority('LOW')"  cdkMenuItem>LOW</button>
                      <button class="px-4 py-2 rounded-sm" appProprity="MID" (click)="setPriority('MID')"  cdkMenuItem>MID</button>
                      <button class="px-4 py-2 rounded-sm" appProprity="HIGHT" (click)="setPriority('HIGHT')"  cdkMenuItem>HIGHT</button>
                    </div>
                </ng-template>
            </div>


        </div>

        <div class="NgxEditor__Wrapper">
            <ngx-editor-menu [editor]="editor" [toolbar]="toolbar" > </ngx-editor-menu>
            <ngx-editor [editor]="editor" [formControl]="formGroup.controls.description"> </ngx-editor>
        </div>

    </form>
</main>
